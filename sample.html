<!-- Back to Home Button -->
<div id="backButtonContainer" style="position: fixed; bottom: 20px; right: 20px; z-index: 999;">
  <button id="backHomeBtn" class="btn btn-outline-light px-4 py-2" style="border-radius: 30px; font-weight: 600;">
    â¬… Back to Home
  </button>
</div>

<!-- Transition Overlay with Fun Animation -->
<div id="transitionOverlay" style="display: none; position: fixed; inset: 0; background: linear-gradient(135deg, #00c9a7, #005f5f); z-index: 998; justify-content: center; align-items: center; color: white; font-size: 2rem; font-weight: bold; text-align: center;">
  <div class="loader" style="font-size: 3rem; animation: spin 2s linear infinite;">ðŸ”„</div>
  <div class="mt-3" style="animation: fadeIn 2s ease-out;">Redirecting you back home...</div>
  <div class="progress mt-4" style="width: 200px; height: 10px;">
    <div id="progressBar" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
  </div>
</div>

<script>
  const backBtn = document.getElementById('backHomeBtn');
  const overlay = document.getElementById('transitionOverlay');
  const progressBar = document.getElementById('progressBar');

  backBtn.addEventListener('click', () => {
    // Fade out cards
    document.querySelectorAll('.card').forEach(card => {
      card.style.transition = 'opacity 0.5s ease';
      card.style.opacity = 0;
    });

    // Show overlay after fade
    setTimeout(() => {
      overlay.style.display = 'flex';

      // Simulate progress
      let progress = 0;
      const interval = setInterval(() => {
        if (progress >= 100) {
          clearInterval(interval);
        } else {
          progress += 2;
          progressBar.style.width = `${progress}%`;
        }
      }, 100);

    }, 500);

    // Redirect after delay
    setTimeout(() => {
      window.location.href = 'index.html';
    }, 2000); // Longer to show progress bar animation
  });
</script>

<style>
  #backHomeBtn {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 0 10px #00c9a7;
  }

  #backHomeBtn:hover {
    transform: scale(1.05);
    box-shadow: 0 0 20px #00c9a7;
  }

  /* Animation for Spinner */
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  /* Fade-in effect for text */
  @keyframes fadeIn {
    0% { opacity: 0; transform: translateY(-20px); }
    100% { opacity: 1; transform: translateY(0); }
  }

  /* Custom styling for progress bar */
  .progress-bar {
    background-color: #00c9a7;
    border-radius: 50px;
    height: 10px;
  }
</style>
